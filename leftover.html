<!-- js -->
<script type="module">
    import * as THREE from 'https://unpkg.com/three/build/three.module.js';
    // import { OrbitControls } from 'https://unpkg.com/three/examples/jsm/controls/OrbitControls.js';

    // scene
    const scene = new THREE.Scene();

    // light
    const light = new THREE.AmbientLight(0x40ff40,); // soft white light
    scene.add(light);
    // canvas
    const canvas = document.getElementById("object-3d");

    // objects
    // var geometry = new THREE.SphereBufferGeometry(2, 16, 16);

    // // materials
    // const material = new THREE.MeshStandardMaterial({ color: 0x10c138 });
    // material.roughness = 0.2;
    // material.wireframe = true;

    // // mesh
    // const object = new THREE.Mesh(geometry, material);
    // scene.add(object);

    // Define dodecahedron vertices
    var geometry = new THREE.DodecahedronGeometry(3);

    // Define different colors for each face
    const colors = [
        0xff5733, 0xc70039, 0xff8c00, 0xffd700, 0xff5733,
        0xff5733, 0xc70039, 0xff8c00, 0xffd700, 0xff5733,
    ];

    // Create materials for each face
    const materials = colors.map(color => new THREE.MeshBasicMaterial({ color }));

    // Create a mesh with the geometry and materials
    const object = new THREE.Mesh(geometry, materials);

    // Add the mesh to the scene
    scene.add(object);


    let sizes = {
        width: window.innerWidth,
        height: window.innerHeight
    }

    // responsive
    window.addEventListener('resize', () => {
        // update window size
        sizes.width = window.innerWidth;
        sizes.height = window.innerHeight;

        // update camera
        // if(sizes.width<768) {
        //     camera.position.x = 0;
        // }
        // else {
        //     camera.position.x = -3;
        // }
        camera.aspect = sizes.width / sizes.height;
        camera.updateProjectionMatrix();

        //update renderer
        renderer.setSize(sizes.width, sizes.height);
        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
    });

    // camera
    const camera = new THREE.PerspectiveCamera(75, sizes.width / sizes.height, 0.1, 1000);
    camera.position.x = -2;
    camera.position.z = 5;

    // render settings
    const renderer = new THREE.WebGLRenderer({
        canvas: canvas,
        alpha: true
    });
    renderer.setSize(sizes.width, sizes.height);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));


    // const controls = new OrbitControls( camera, renderer.domElement );


    const clock = new THREE.Clock();
    // animation
    const animate = () => {
        const elapsedTime = clock.getElapsedTime();

        object.rotation.x += 0.001;
        object.rotation.y += 0.001;

        // render
        renderer.render(scene, camera);

        // call animate() in next frame
        window.requestAnimationFrame(animate);
    };
    animate();

</script>